{"ast":null,"code":"var _jsxFileName = \"/home/dev/Bureau/montest/front/src/components/MonAtelier.js\";\nimport React, { Component } from 'react';\nimport axios from 'axios';\nimport { confirmAlert } from 'react-confirm-alert'; // Import\n\nimport 'react-confirm-alert/src/react-confirm-alert.css'; // Import css\n\nexport default class MonAtelier extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      nom: \"\",\n      titre: \"\",\n      description: \"\",\n      horaire: \"\",\n      duree: \"\",\n      date: \"\",\n      placedispo: \"\",\n      placereserve: \"\",\n      prix: \"\",\n      image: '',\n      redirect: false,\n      atelier: [],\n      name: \"\"\n    };\n    this.handleChange = this.handleChange.bind(this);\n  }\n\n  handleChange(e) {\n    this.setState({\n      [e.target.name]: e.target.value\n    });\n  }\n\n  componentDidMount() {\n    this.setState({\n      name: localStorage.getItem('jwtToken')\n    });\n    console.log(localStorage.getItem('jwtToken'));\n    axios.get('http://localhost:8080/cuisinier/' + localStorage.getItem('id')).then(res => {\n      console.log(res.data);\n      this.setState({\n        atelier: res.data\n      });\n    });\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 47\n      },\n      __self: this\n    }, React.createElement(\"table\", {\n      class: \"table\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50\n      },\n      __self: this\n    }, React.createElement(\"thead\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51\n      },\n      __self: this\n    }, React.createElement(\"tr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52\n      },\n      __self: this\n    }, React.createElement(\"th\", {\n      scope: \"col\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53\n      },\n      __self: this\n    }, \"Titre\"), React.createElement(\"th\", {\n      scope: \"col\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54\n      },\n      __self: this\n    }, \"Description\"), React.createElement(\"th\", {\n      scope: \"col\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55\n      },\n      __self: this\n    }, \"Date\"), React.createElement(\"th\", {\n      scope: \"col\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56\n      },\n      __self: this\n    }, \"Horaire\"), React.createElement(\"th\", {\n      scope: \"col\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57\n      },\n      __self: this\n    }, \"Place disponible\"), React.createElement(\"th\", {\n      scope: \"col\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58\n      },\n      __self: this\n    }, \"Place reserve\"), React.createElement(\"th\", {\n      scope: \"col\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59\n      },\n      __self: this\n    }, \"Prix\"), React.createElement(\"th\", {\n      scope: \"col\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60\n      },\n      __self: this\n    }, \"Image\"), React.createElement(\"th\", {\n      scope: \"col\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61\n      },\n      __self: this\n    }, \"visibilite\"), React.createElement(\"th\", {\n      scope: \"col\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62\n      },\n      __self: this\n    }, \"Action\"))), React.createElement(\"tbody\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65\n      },\n      __self: this\n    }, this.state.atelier.length > 0 ? this.state.atelier.map(prof => {\n      var url = \"http://localhost:8080/public/\" + prof.image;\n      return React.createElement(\"tr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 69\n        },\n        __self: this\n      }, React.createElement(\"th\", {\n        scope: \"row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 70\n        },\n        __self: this\n      }, prof.titre), React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 71\n        },\n        __self: this\n      }, prof.description), React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 72\n        },\n        __self: this\n      }, prof.date), React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 73\n        },\n        __self: this\n      }, prof.horaire), React.createElement(\"th\", {\n        scope: \"row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 75\n        },\n        __self: this\n      }, prof.placedispo), React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 76\n        },\n        __self: this\n      }, prof.placereserve), React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77\n        },\n        __self: this\n      }, \" \", prof.prix), React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78\n        },\n        __self: this\n      }, React.createElement(\"img\", {\n        src: url,\n        id: \"tabim\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78\n        },\n        __self: this\n      })), React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 79\n        },\n        __self: this\n      }, \"  \", prof.visibilite == true ? React.createElement(\"button\", {\n        onClick: e => {\n          e.preventDefault();\n          axios.get(\" http://localhost:8080/atelieraffichier/\" + prof._id).then(res => {\n            axios.get('http://localhost:8080/cuisinier/' + localStorage.getItem('id')).then(res => {\n              console.log(res.data);\n              this.setState({\n                atelier: res.data\n              });\n            });\n            console.log(res.data);\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 79\n        },\n        __self: this\n      }, \"Desactiver\") : React.createElement(\"button\", {\n        onClick: e => {\n          e.preventDefault();\n          console.log(prof._id);\n          axios.get(\"http://localhost:8080/atelieraffichier/\" + prof._id).then(res => {\n            axios.get('http://localhost:8080/cuisinier/' + localStorage.getItem('id')).then(res => {\n              console.log(res.data);\n              this.setState({\n                atelier: res.data\n              });\n            });\n            console.log(res.data);\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 90\n        },\n        __self: this\n      }, \"Activer\")), React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 102\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        onClick: () => {\n          //  axios.post(\"http://localhost:8080/particulier/\"+prof._id)\n          confirmAlert({\n            customUI: ({\n              onClose\n            }) => {\n              return React.createElement(\"div\", {\n                className: \"custom-ui\",\n                __source: {\n                  fileName: _jsxFileName,\n                  lineNumber: 107\n                },\n                __self: this\n              }, React.createElement(\"h5\", {\n                class: \"card-title\",\n                __source: {\n                  fileName: _jsxFileName,\n                  lineNumber: 108\n                },\n                __self: this\n              }, \"Modification Atelier\"), React.createElement(\"input\", {\n                name: \"titre\",\n                onChange: this.handleChange,\n                placeholder: \"Entrer votre titre\",\n                value: this.state.value,\n                __source: {\n                  fileName: _jsxFileName,\n                  lineNumber: 109\n                },\n                __self: this\n              }), React.createElement(\"br\", {\n                __source: {\n                  fileName: _jsxFileName,\n                  lineNumber: 109\n                },\n                __self: this\n              }), React.createElement(\"input\", {\n                name: \"description\",\n                onChange: this.handleChange,\n                placeholder: \"Entrer votre description\",\n                v: true,\n                alue: this.state.value,\n                __source: {\n                  fileName: _jsxFileName,\n                  lineNumber: 110\n                },\n                __self: this\n              }), React.createElement(\"br\", {\n                __source: {\n                  fileName: _jsxFileName,\n                  lineNumber: 110\n                },\n                __self: this\n              }), React.createElement(\"input\", {\n                name: \"date\",\n                onChange: this.handleChange,\n                placeholder: \"Entrer votre email\",\n                value: this.state.value,\n                type: \"date\",\n                __source: {\n                  fileName: _jsxFileName,\n                  lineNumber: 111\n                },\n                __self: this\n              }), React.createElement(\"br\", {\n                __source: {\n                  fileName: _jsxFileName,\n                  lineNumber: 111\n                },\n                __self: this\n              }), React.createElement(\"input\", {\n                name: \"horaire\",\n                onChange: this.handleChange,\n                placeholder: \"Entrer votre horaire\",\n                __source: {\n                  fileName: _jsxFileName,\n                  lineNumber: 112\n                },\n                __self: this\n              }), React.createElement(\"br\", {\n                __source: {\n                  fileName: _jsxFileName,\n                  lineNumber: 112\n                },\n                __self: this\n              }), React.createElement(\"input\", {\n                name: \"placedispo\",\n                onChange: this.handleChange,\n                placeholder: \"Entrer place disponible\",\n                type: \"Number\",\n                value: this.state.value,\n                __source: {\n                  fileName: _jsxFileName,\n                  lineNumber: 113\n                },\n                __self: this\n              }), React.createElement(\"br\", {\n                __source: {\n                  fileName: _jsxFileName,\n                  lineNumber: 113\n                },\n                __self: this\n              }), React.createElement(\"input\", {\n                name: \"placereserve\",\n                onChange: this.handleChange,\n                placeholder: \"Entrer place reserve\",\n                type: \"Number\",\n                alue: this.state.value,\n                __source: {\n                  fileName: _jsxFileName,\n                  lineNumber: 114\n                },\n                __self: this\n              }), React.createElement(\"br\", {\n                __source: {\n                  fileName: _jsxFileName,\n                  lineNumber: 114\n                },\n                __self: this\n              }), React.createElement(\"input\", {\n                name: \"prix\",\n                onChange: this.handleChange,\n                placeholder: \"Entrer prix\",\n                type: \"Number\",\n                value: this.state.value,\n                __source: {\n                  fileName: _jsxFileName,\n                  lineNumber: 115\n                },\n                __self: this\n              }), React.createElement(\"br\", {\n                __source: {\n                  fileName: _jsxFileName,\n                  lineNumber: 115\n                },\n                __self: this\n              }), React.createElement(\"input\", {\n                name: \"telephone\",\n                ref: ref => {\n                  this.uploadInput2 = ref;\n                },\n                type: \"file\",\n                __source: {\n                  fileName: _jsxFileName,\n                  lineNumber: 116\n                },\n                __self: this\n              }), React.createElement(\"br\", {\n                __source: {\n                  fileName: _jsxFileName,\n                  lineNumber: 116\n                },\n                __self: this\n              }), React.createElement(\"button\", {\n                onClick: onClose,\n                __source: {\n                  fileName: _jsxFileName,\n                  lineNumber: 117\n                },\n                __self: this\n              }, \"Fermer\"), React.createElement(\"button\", {\n                onClick: () => {\n                  const data2 = new FormData();\n                  data2.append('image', this.uploadInput2.files[0]);\n                  data2.append('titre', this.state.titre);\n                  data2.append('description', this.state.description);\n                  data2.append('date', this.state.date);\n                  data2.append('horaire', this.state.horaire); // data.append('duree',  this.state.duree);\n\n                  data2.append('placedispo', this.state.placedispo);\n                  data2.append('placereserve', this.state.placereserve);\n                  data2.append('prix', this.state.prix);\n                  data2.append('duree', this.state.duree);\n                  fetch('http://localhost:8080/atelier/' + prof._id, {\n                    method: 'POST',\n                    body: data2\n                  }).then(response => {\n                    response.json().then(body => {\n                      console.log(body.file1); //  this.setRedirect()\n\n                      axios.get('http://localhost:8080/cuisinier/' + localStorage.getItem('id')).then(res => {\n                        console.log(res.data);\n                        this.setState({\n                          atelier: res.data\n                        });\n                      });\n                    });\n                    onClose();\n                  });\n                },\n                className: \"btn btn-success\",\n                __source: {\n                  fileName: _jsxFileName,\n                  lineNumber: 118\n                },\n                __self: this\n              }, \"Modifier\"));\n            }\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 102\n        },\n        __self: this\n      }, \"Modifier\")));\n    }) : \"\")));\n  }\n\n}","map":{"version":3,"sources":["/home/dev/Bureau/montest/front/src/components/MonAtelier.js"],"names":["React","Component","axios","confirmAlert","MonAtelier","constructor","props","state","nom","titre","description","horaire","duree","date","placedispo","placereserve","prix","image","redirect","atelier","name","handleChange","bind","e","setState","target","value","componentDidMount","localStorage","getItem","console","log","get","then","res","data","render","length","map","prof","url","visibilite","preventDefault","_id","customUI","onClose","ref","uploadInput2","data2","FormData","append","files","fetch","method","body","response","json","file1"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport axios from 'axios';\nimport { confirmAlert } from 'react-confirm-alert'; // Import\nimport 'react-confirm-alert/src/react-confirm-alert.css'; // Import css\nexport default class MonAtelier extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            nom: \"\",\n            titre: \"\",\n            description: \"\",\n            horaire: \"\",\n            duree: \"\",\n            date: \"\",\n            placedispo: \"\",\n            placereserve: \"\",\n            prix: \"\",\n            image: '',\n            redirect: false,\n            atelier: [],\n            name: \"\"\n        };\n\n        this.handleChange = this.handleChange.bind(this);\n\n    }\n\n\n    handleChange(e) {\n        this.setState({\n            [e.target.name]: e.target.value\n        })\n    }\n\n    componentDidMount() {\n\n        this.setState({ name: localStorage.getItem('jwtToken') })\n        console.log(localStorage.getItem('jwtToken'))\n        axios.get('http://localhost:8080/cuisinier/' + localStorage.getItem('id')).then(res => {\n            console.log(res.data)\n            this.setState({ atelier: res.data })\n        })\n\n    }\n    render() {\n        return (\n            <div>\n\n\n                <table class=\"table\">\n                    <thead>\n                        <tr>\n                            <th scope=\"col\">Titre</th>\n                            <th scope=\"col\">Description</th>\n                            <th scope=\"col\">Date</th>\n                            <th scope=\"col\">Horaire</th>\n                            <th scope=\"col\">Place disponible</th>\n                            <th scope=\"col\">Place reserve</th>\n                            <th scope=\"col\">Prix</th>\n                            <th scope=\"col\">Image</th>\n                            <th scope=\"col\">visibilite</th>\n                            <th scope=\"col\">Action</th>\n                        </tr>\n                    </thead>\n                    <tbody>\n                        {this.state.atelier.length > 0 ? (this.state.atelier.map(prof => {\n                            var url = \"http://localhost:8080/public/\" + prof.image\n                            return (\n                                <tr>\n                                    <th scope=\"row\">{prof.titre}</th>\n                                    <td>{prof.description}</td>\n                                    <td>{prof.date}</td>\n                                    <td>{prof.horaire}</td>\n\n                                    <th scope=\"row\">{prof.placedispo}</th>\n                                    <td>{prof.placereserve}</td>\n                                    <td> {prof.prix}</td>\n                                    <td><img src={url} id=\"tabim\"/></td>\n                                    <td>  {prof.visibilite == true ? (<button onClick={(e) => {\n                                        e.preventDefault()\n                                        axios.get(\" http://localhost:8080/atelieraffichier/\" + prof._id).then(res => {\n                                            axios.get('http://localhost:8080/cuisinier/' + localStorage.getItem('id')).then(res => {\n                                                console.log(res.data)\n                                                this.setState({ atelier: res.data })\n                                            })\n                                            console.log(res.data)\n                                        })\n\n\n                                    }}>Desactiver</button>) : (<button onClick={(e) => {\n                                        e.preventDefault()\n                                        console.log(prof._id)\n                                        axios.get(\"http://localhost:8080/atelieraffichier/\" + prof._id).then(res => {\n                                            axios.get('http://localhost:8080/cuisinier/' + localStorage.getItem('id')).then(res => {\n                                                console.log(res.data)\n                                                this.setState({ atelier: res.data })\n                                            })\n                                            console.log(res.data)\n                                        })\n\n                                    }}>Activer</button>)}</td>\n                                    <td><button onClick={() => {\n                                        //  axios.post(\"http://localhost:8080/particulier/\"+prof._id)\n                                        confirmAlert({\n                                            customUI: ({ onClose }) => {\n                                                return (\n                                                    <div className='custom-ui'>\n                                                        <h5 class=\"card-title\">Modification Atelier</h5>\n                                                        <input name=\"titre\" onChange={this.handleChange} placeholder=\"Entrer votre titre\" value={this.state.value} /><br />\n                                                        <input name=\"description\" onChange={this.handleChange} placeholder=\"Entrer votre description\" v alue={this.state.value} /><br />\n                                                        <input name=\"date\" onChange={this.handleChange} placeholder=\"Entrer votre email\" value={this.state.value} type=\"date\" /><br />\n                                                        <input name=\"horaire\" onChange={this.handleChange} placeholder=\"Entrer votre horaire\" /><br />\n                                                        <input name=\"placedispo\" onChange={this.handleChange} placeholder=\"Entrer place disponible\" type=\"Number\" value={this.state.value} /><br />\n                                                        <input name=\"placereserve\" onChange={this.handleChange} placeholder=\"Entrer place reserve\" type=\"Number\" alue={this.state.value} /><br />\n                                                        <input name=\"prix\" onChange={this.handleChange} placeholder=\"Entrer prix\" type=\"Number\" value={this.state.value} /><br />\n                                                        <input name=\"telephone\" ref={(ref) => { this.uploadInput2 = ref; }} type=\"file\" /><br />\n                                                        <button onClick={onClose}>Fermer</button>\n                                                        <button\n                                                            onClick={() => {\n                                                                const data2 = new FormData();\n                                                                data2.append('image', this.uploadInput2.files[0]);\n                                                                data2.append('titre', this.state.titre);\n                                                                data2.append('description', this.state.description);\n                                                                data2.append('date', this.state.date);\n                                                                data2.append('horaire', this.state.horaire);\n                                                                // data.append('duree',  this.state.duree);\n                                                                data2.append('placedispo', this.state.placedispo);\n                                                                data2.append('placereserve', this.state.placereserve);\n                                                                data2.append('prix', this.state.prix);\n                                                                data2.append('duree', this.state.duree);\n\n                                                                fetch('http://localhost:8080/atelier/' + prof._id, {\n                                                                    method: 'POST',\n                                                                    body: data2,\n                                                                }).then((response) => {\n                                                                    response.json().then((body) => {\n\n                                                                        console.log(body.file1)\n                                                                        //  this.setRedirect()\n                                                                        axios.get('http://localhost:8080/cuisinier/' + localStorage.getItem('id')).then(res => {\n                                                                            console.log(res.data)\n                                                                            this.setState({ atelier: res.data })\n                                                                        })\n\n                                                                    });\n                                                                    onClose();\n                                                                });\n\n\n\n\n                                                            }}\n                                                            className=\"btn btn-success\">\n                                                            Modifier\n                                                            </button>\n                                                    </div>\n                                                );\n                                            }\n                                        });\n                                    }}>Modifier</button></td>\n                                </tr>)\n\n\n\n\n\n\n\n\n\n                        }\n\n                        )) : \"\"}\n                    </tbody>\n                    </table>\n            </div>\n\n\n                )\n            }\n        }\n"]},"metadata":{},"sourceType":"module"}