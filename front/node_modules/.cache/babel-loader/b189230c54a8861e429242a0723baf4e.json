{"ast":null,"code":"var _jsxFileName = \"/home/dev/Bureau/montest/front/src/components/Profil.js\";\nimport React, { Component } from 'react';\nimport axios from 'axios';\nimport { BrowserRouter as Redirect, Link, withRouter, Router, Route } from \"react-router-dom\";\nimport \"./slide.css\";\nimport Ajoutatelier from './Ajoutatelier';\nimport MonAtelier from './MonAtelier';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { logoutUser } from '../actions/authentificate';\nimport { confirmAlert } from 'react-confirm-alert'; // Import\n\nimport 'react-confirm-alert/src/react-confirm-alert.css'; // Import css\n\nimport Slidebar from \"./Slidebar\";\n\nclass Profil extends Component {\n  constructor(props) {\n    super(props);\n\n    this.renderRedirect = () => {\n      if (localStorage.getItem(\"login\") == false) {\n        return React.createElement(Redirect, {\n          to: \"/login\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 42\n          },\n          __self: this\n        });\n      }\n    };\n\n    this.state = {\n      nom: \"\",\n      titre: \"\",\n      description: \"\",\n      horaire: \"\",\n      duree: \"\",\n      date: \"\",\n      placedispo: \"\",\n      placereserve: \"\",\n      prix: \"\",\n      image: '',\n      redirect: false,\n      atelier: [],\n      name: \"\",\n      visibilite: false\n    };\n    this.handleUploadImage = this.handleUploadImage.bind(this);\n    this.handleChange = this.handleChange.bind(this);\n  }\n\n  handleChange(e) {\n    this.setState({\n      [e.target.name]: e.target.value\n    });\n  }\n\n  handleUploadImage(ev) {\n    ev.preventDefault();\n    const data = new FormData();\n    data.append('image', this.uploadInput.files[0]);\n    data.append('titre', this.state.titre);\n    data.append('description', this.state.description);\n    data.append('date', this.state.date);\n    data.append('horaire', this.state.horaire); // data.append('duree',  this.state.duree);\n\n    data.append('placedispo', this.state.placedispo);\n    data.append('placereserve', this.state.placereserve);\n    data.append('prix', this.state.prix);\n    data.append('duree', this.state.duree);\n    fetch('http://localhost:8080/cuisinier/' + localStorage.getItem('id'), {\n      method: 'POST',\n      body: data\n    }).then(response => {\n      response.json().then(body => {\n        console.log(body.file1); //  this.setRedirect()\n\n        axios.get('http://localhost:8080/cuisinier/' + localStorage.getItem('id')).then(res => {\n          console.log(res.data);\n          this.setState({\n            atelier: res.data\n          });\n        });\n      });\n    });\n  }\n\n  componentDidMount() {\n    this.setState({\n      name: localStorage.getItem('jwtToken')\n    });\n    console.log(localStorage.getItem('jwtToken'));\n    axios.get('http://localhost:8080/cuisinier/' + localStorage.getItem('id')).then(res => {\n      console.log(res.data);\n      this.setState({\n        atelier: res.data\n      });\n    });\n  }\n\n  render() {\n    return React.createElement(Router, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      id: \"entete\",\n      className: \"col-md-3\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100\n      },\n      __self: this\n    }, this.renderRedirect(), React.createElement(\"center\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102\n      },\n      __self: this\n    }, React.createElement(\"h3\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103\n      },\n      __self: this\n    }, \" Bienvenue \", this.state.name), \" \", React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103\n      },\n      __self: this\n    }))), React.createElement(\"div\", {\n      id: \"deconnecte\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      onClick: () => {\n        this.props.logoutUser(this.props.history);\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107\n      },\n      __self: this\n    }, \"deconnecter\"))), React.createElement(\"div\", {\n      id: \"mySidenav\",\n      class: \"sidenav\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112\n      },\n      __self: this\n    }, React.createElement(\"a\", {\n      href: \"#\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113\n      },\n      __self: this\n    }, React.createElement(Link, {\n      id: \"titre\",\n      to: \"/ajout\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113\n      },\n      __self: this\n    }, \"Ajouter un atelier\")), React.createElement(\"a\", {\n      href: \"#\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114\n      },\n      __self: this\n    }, React.createElement(Link, {\n      id: \"titre\",\n      to: \"/atelier\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114\n      },\n      __self: this\n    }, \"Liste des Ateliers\"))), React.createElement(\"div\", {\n      id: \"entete\",\n      className: \"col-md-6\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      class: \"main\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117\n      },\n      __self: this\n    }, React.createElement(Route, {\n      path: \"/atelier\",\n      component: MonAtelier,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118\n      },\n      __self: this\n    }), React.createElement(Route, {\n      path: \"/profil\",\n      component: MonAtelier,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119\n      },\n      __self: this\n    }), React.createElement(Route, {\n      path: \"/ajout\",\n      component: Ajoutatelier,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120\n      },\n      __self: this\n    })))));\n  }\n\n}\n\nProfil.propTypes = {\n  logoutUser: PropTypes.func.isRequired,\n  auth: PropTypes.object.isRequired\n};\n\nconst mapStateToProps = state => ({\n  auth: state.auth\n});\n\nexport default connect(mapStateToProps, {\n  logoutUser\n})(withRouter(Profil));","map":{"version":3,"sources":["/home/dev/Bureau/montest/front/src/components/Profil.js"],"names":["React","Component","axios","BrowserRouter","Redirect","Link","withRouter","Router","Route","Ajoutatelier","MonAtelier","PropTypes","connect","logoutUser","confirmAlert","Slidebar","Profil","constructor","props","renderRedirect","localStorage","getItem","state","nom","titre","description","horaire","duree","date","placedispo","placereserve","prix","image","redirect","atelier","name","visibilite","handleUploadImage","bind","handleChange","e","setState","target","value","ev","preventDefault","data","FormData","append","uploadInput","files","fetch","method","body","then","response","json","console","log","file1","get","res","componentDidMount","render","history","propTypes","func","isRequired","auth","object","mapStateToProps"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport axios from'axios'\nimport { BrowserRouter as  Redirect, Link , withRouter,Router, Route } from \"react-router-dom\"\nimport \"./slide.css\"\nimport Ajoutatelier from './Ajoutatelier';\nimport MonAtelier from './MonAtelier';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { logoutUser } from'../actions/authentificate';\nimport { confirmAlert } from 'react-confirm-alert'; // Import\nimport 'react-confirm-alert/src/react-confirm-alert.css'; // Import css\n\nimport Slidebar from \"./Slidebar\"\n class Profil extends Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            nom:\"\",\n            titre:\"\",\n            description:\"\",\n            horaire:\"\",\n            duree:\"\",\n            date:\"\",\n            placedispo:\"\",\n            placereserve:\"\",\n            prix:\"\",\n            image: '',\n            redirect:false,\n            atelier:[],\n            name:\"\",\n            visibilite:false\n        };\n\n        this.handleUploadImage = this.handleUploadImage.bind(this);\n        this.handleChange = this.handleChange.bind(this);\n         \n    }\n    \n      renderRedirect = () => {\n        if (localStorage.getItem(\"login\")==false) {\n          return <Redirect to='/login' />\n        }\n      }\n    \n    handleChange(e){\n        this.setState({\n            [e.target.name]: e.target.value\n        })\n    }\n\n    handleUploadImage(ev) {\n        ev.preventDefault();\n\n        const data = new FormData();\n        data.append('image', this.uploadInput.files[0]);\n        data.append('titre', this.state.titre);\n        data.append('description', this.state.description);\n        data.append('date', this.state.date);\n        data.append('horaire', this.state.horaire);\n        // data.append('duree',  this.state.duree);\n        data.append('placedispo', this.state.placedispo);\n        data.append('placereserve', this.state.placereserve);\n        data.append('prix', this.state.prix);\n        data.append('duree',  this.state.duree);\n                                                                                                                                                              \n        fetch('http://localhost:8080/cuisinier/'+ localStorage.getItem('id'), {\n            method: 'POST',\n            body: data,\n        }).then((response) => {\n            response.json().then((body) => {\n             \n                console.log(body.file1)\n                //  this.setRedirect()\n                axios.get('http://localhost:8080/cuisinier/'+ localStorage.getItem('id')).then(res=>{\n            console.log(res.data)\n            this.setState({atelier:res.data})\n        })\n            });\n        });\n       \n    }\n\n    componentDidMount(){\n      \n        this.setState({name:localStorage.getItem('jwtToken')})\n        console.log(localStorage.getItem('jwtToken'))\n        axios.get('http://localhost:8080/cuisinier/'+ localStorage.getItem('id')).then(res=>{\n            console.log(res.data)\n            this.setState({atelier:res.data})\n        })\n\n    }\n    render() {\n       \n        return (\n            <Router>\n            <div className=\"row\">\n                <div id =\"entete\" className=\"col-md-3\">\n                    <div>\n                        {this.renderRedirect()}\n                        <center>\n                            <h3> Bienvenue {this.state.name}</h3> <br></br>\n                        </center>\n                    </div>\n                    <div id=\"deconnecte\">\n                        <button onClick={()=>{\n                              this.props.logoutUser(this.props.history);\n                        }}>deconnecter</button>\n                    </div>\n            </div>\n            <div id=\"mySidenav\" class=\"sidenav\">\n                <a href=\"#\"><Link  id=\"titre\" to=\"/ajout\">Ajouter un atelier</Link></a>\n                <a href=\"#\"><Link  id=\"titre\" to=\"/atelier\">Liste des Ateliers</Link></a>             \n              </div>\n            <div id =\"entete\" className=\"col-md-6\">\n              <div class=\"main\">\n              <Route path=\"/atelier\" component={MonAtelier} />\n              <Route path=\"/profil\" component={MonAtelier} />\n              <Route path=\"/ajout\" component={Ajoutatelier} />\n              </div>\n            \n\n            </div>\n                \n              \n            </div>\n            </Router>\n        )\n    }\n}\nProfil.propTypes = {\n    logoutUser: PropTypes.func.isRequired,\n    auth: PropTypes.object.isRequired\n}\n\nconst mapStateToProps = (state) => ({\n    auth: state.auth\n})\n\nexport default connect(mapStateToProps, { logoutUser })(withRouter(Profil));"]},"metadata":{},"sourceType":"module"}