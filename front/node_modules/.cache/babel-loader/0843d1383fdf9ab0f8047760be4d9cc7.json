{"ast":null,"code":"var _jsxFileName = \"/home/dev/Bureau/montest/front/src/components/MonAtelier.js\";\nimport React, { Component } from 'react';\nimport axios from 'axios';\nimport { confirmAlert } from 'react-confirm-alert'; // Import\n\nimport 'react-confirm-alert/src/react-confirm-alert.css'; // Import css\n\nexport default class MonAtelier extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      nom: \"\",\n      titre: \"\",\n      description: \"\",\n      horaire: \"\",\n      duree: \"\",\n      date: \"\",\n      placedispo: \"\",\n      placereserve: \"\",\n      prix: \"\",\n      image: '',\n      redirect: false,\n      atelier: [],\n      name: \"\"\n    };\n    this.handleChange = this.handleChange.bind(this);\n  }\n\n  handleChange(e) {\n    this.setState({\n      [e.target.name]: e.target.value\n    });\n  }\n\n  componentDidMount() {\n    this.setState({\n      name: localStorage.getItem('jwtToken')\n    });\n    console.log(localStorage.getItem('jwtToken'));\n    axios.get('http://localhost:8080/cuisinier/' + localStorage.getItem('id')).then(res => {\n      console.log(res.data);\n      this.setState({\n        atelier: res.data\n      });\n    });\n\n    if (localStorage.getItem(\"id\")) {\n      this.setState({\n        redirect: true\n      });\n      window.location = \"/profil\";\n    }\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50\n      },\n      __self: this\n    }, this.state.atelier.length > 0 ? this.state.atelier.map(prof => {\n      var url = \"http://localhost:8080/public/\" + prof.image;\n      return React.createElement(\"div\", {\n        className: \"container\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 54\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 55\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        class: \"col-md-4\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 56\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        class: \"card-body\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 57\n        },\n        __self: this\n      }, React.createElement(\"img\", {\n        src: url,\n        id: \"larg\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 58\n        },\n        __self: this\n      }), React.createElement(\"h5\", {\n        class: \"card-title\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 59\n        },\n        __self: this\n      }, prof.titre), React.createElement(\"p\", {\n        class: \"card-text\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 60\n        },\n        __self: this\n      }, prof.description), React.createElement(\"p\", {\n        class: \"card-text\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 61\n        },\n        __self: this\n      }, prof.date), React.createElement(\"p\", {\n        class: \"card-text\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 62\n        },\n        __self: this\n      }, prof.horaire), React.createElement(\"p\", {\n        class: \"card-text\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 63\n        },\n        __self: this\n      }, prof.placedispo), React.createElement(\"p\", {\n        class: \"card-text\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 64\n        },\n        __self: this\n      }, prof.placereserve), React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 65\n        },\n        __self: this\n      }, \" \", prof.prix), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 65\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 66\n        },\n        __self: this\n      }, prof.visibilite == true ? React.createElement(\"button\", {\n        onClick: e => {\n          e.preventDefault();\n          axios.get(\" http://localhost:8080/ateliermasquer/\" + prof._id).then(res => {\n            axios.get('http://localhost:8080/cuisinier/' + localStorage.getItem('id')).then(res => {\n              console.log(res.data);\n              this.setState({\n                atelier: res.data\n              });\n            });\n            console.log(res.data);\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 67\n        },\n        __self: this\n      }, \"Desactiver\") : React.createElement(\"button\", {\n        onClick: e => {\n          e.preventDefault();\n          console.log(prof._id);\n          axios.get(\"http://localhost:8080/atelieraffichier/\" + prof._id).then(res => {\n            axios.get('http://localhost:8080/cuisinier/' + localStorage.getItem('id')).then(res => {\n              console.log(res.data);\n              this.setState({\n                atelier: res.data\n              });\n            });\n            console.log(res.data);\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77\n        },\n        __self: this\n      }, \"Activer\")), React.createElement(\"button\", {\n        onClick: () => {\n          //  axios.post(\"http://localhost:8080/particulier/\"+prof._id)\n          confirmAlert({\n            customUI: ({\n              onClose\n            }) => {\n              return React.createElement(\"div\", {\n                className: \"custom-ui\",\n                __source: {\n                  fileName: _jsxFileName,\n                  lineNumber: 94\n                },\n                __self: this\n              }, React.createElement(\"h5\", {\n                class: \"card-title\",\n                __source: {\n                  fileName: _jsxFileName,\n                  lineNumber: 95\n                },\n                __self: this\n              }, \"Modification Atelier\"), React.createElement(\"input\", {\n                name: \"titre\",\n                onChange: this.handleChange,\n                placeholder: \"Entrer votre titre\",\n                value: this.state.value,\n                __source: {\n                  fileName: _jsxFileName,\n                  lineNumber: 96\n                },\n                __self: this\n              }), React.createElement(\"br\", {\n                __source: {\n                  fileName: _jsxFileName,\n                  lineNumber: 96\n                },\n                __self: this\n              }), React.createElement(\"input\", {\n                name: \"description\",\n                onChange: this.handleChange,\n                placeholder: \"Entrer votre description\",\n                v: true,\n                alue: this.state.value,\n                __source: {\n                  fileName: _jsxFileName,\n                  lineNumber: 97\n                },\n                __self: this\n              }), React.createElement(\"br\", {\n                __source: {\n                  fileName: _jsxFileName,\n                  lineNumber: 97\n                },\n                __self: this\n              }), React.createElement(\"input\", {\n                name: \"date\",\n                onChange: this.handleChange,\n                placeholder: \"Entrer votre email\",\n                value: this.state.value,\n                type: \"date\",\n                __source: {\n                  fileName: _jsxFileName,\n                  lineNumber: 98\n                },\n                __self: this\n              }), React.createElement(\"br\", {\n                __source: {\n                  fileName: _jsxFileName,\n                  lineNumber: 98\n                },\n                __self: this\n              }), React.createElement(\"input\", {\n                name: \"horaire\",\n                onChange: this.handleChange,\n                placeholder: \"Entrer votre horaire\",\n                __source: {\n                  fileName: _jsxFileName,\n                  lineNumber: 99\n                },\n                __self: this\n              }), React.createElement(\"br\", {\n                __source: {\n                  fileName: _jsxFileName,\n                  lineNumber: 99\n                },\n                __self: this\n              }), React.createElement(\"input\", {\n                name: \"placedispo\",\n                onChange: this.handleChange,\n                placeholder: \"Entrer place disponible\",\n                type: \"Number\",\n                value: this.state.value,\n                __source: {\n                  fileName: _jsxFileName,\n                  lineNumber: 100\n                },\n                __self: this\n              }), React.createElement(\"br\", {\n                __source: {\n                  fileName: _jsxFileName,\n                  lineNumber: 100\n                },\n                __self: this\n              }), React.createElement(\"input\", {\n                name: \"placereserve\",\n                onChange: this.handleChange,\n                placeholder: \"Entrer place reserve\",\n                type: \"Number\",\n                alue: this.state.value,\n                __source: {\n                  fileName: _jsxFileName,\n                  lineNumber: 101\n                },\n                __self: this\n              }), React.createElement(\"br\", {\n                __source: {\n                  fileName: _jsxFileName,\n                  lineNumber: 101\n                },\n                __self: this\n              }), React.createElement(\"input\", {\n                name: \"prix\",\n                onChange: this.handleChange,\n                placeholder: \"Entrer prix\",\n                type: \"Number\",\n                value: this.state.value,\n                __source: {\n                  fileName: _jsxFileName,\n                  lineNumber: 102\n                },\n                __self: this\n              }), React.createElement(\"br\", {\n                __source: {\n                  fileName: _jsxFileName,\n                  lineNumber: 102\n                },\n                __self: this\n              }), React.createElement(\"input\", {\n                name: \"telephone\",\n                ref: ref => {\n                  this.uploadInput2 = ref;\n                },\n                type: \"file\",\n                __source: {\n                  fileName: _jsxFileName,\n                  lineNumber: 103\n                },\n                __self: this\n              }), React.createElement(\"br\", {\n                __source: {\n                  fileName: _jsxFileName,\n                  lineNumber: 103\n                },\n                __self: this\n              }), React.createElement(\"button\", {\n                onClick: onClose,\n                __source: {\n                  fileName: _jsxFileName,\n                  lineNumber: 104\n                },\n                __self: this\n              }, \"Fermer\"), React.createElement(\"button\", {\n                onClick: () => {\n                  const data2 = new FormData();\n                  data2.append('image', this.uploadInput2.files[0]);\n                  data2.append('titre', this.state.titre);\n                  data2.append('description', this.state.description);\n                  data2.append('date', this.state.date);\n                  data2.append('horaire', this.state.horaire); // data.append('duree',  this.state.duree);\n\n                  data2.append('placedispo', this.state.placedispo);\n                  data2.append('placereserve', this.state.placereserve);\n                  data2.append('prix', this.state.prix);\n                  data2.append('duree', this.state.duree);\n                  fetch('http://localhost:8080/atelier/' + prof._id, {\n                    method: 'POST',\n                    body: data2\n                  }).then(response => {\n                    response.json().then(body => {\n                      console.log(body.file1); //  this.setRedirect()\n\n                      axios.get('http://localhost:8080/cuisinier/' + localStorage.getItem('id')).then(res => {\n                        console.log(res.data);\n                        this.setState({\n                          atelier: res.data\n                        });\n                      });\n                    });\n                    onClose();\n                  });\n                },\n                className: \"btn btn-success\",\n                __source: {\n                  fileName: _jsxFileName,\n                  lineNumber: 105\n                },\n                __self: this\n              }, \"Modifier\"));\n            }\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 89\n        },\n        __self: this\n      }, \"Modifier\")))));\n    }) : \"\");\n  }\n\n}","map":{"version":3,"sources":["/home/dev/Bureau/montest/front/src/components/MonAtelier.js"],"names":["React","Component","axios","confirmAlert","MonAtelier","constructor","props","state","nom","titre","description","horaire","duree","date","placedispo","placereserve","prix","image","redirect","atelier","name","handleChange","bind","e","setState","target","value","componentDidMount","localStorage","getItem","console","log","get","then","res","data","window","location","render","length","map","prof","url","visibilite","preventDefault","_id","customUI","onClose","ref","uploadInput2","data2","FormData","append","files","fetch","method","body","response","json","file1"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport axios from 'axios';\nimport { confirmAlert } from 'react-confirm-alert'; // Import\nimport 'react-confirm-alert/src/react-confirm-alert.css'; // Import css\nexport default class MonAtelier extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            nom:\"\",\n            titre:\"\",\n            description:\"\",\n            horaire:\"\",\n            duree:\"\",\n            date:\"\",\n            placedispo:\"\",\n            placereserve:\"\",\n            prix:\"\",\n            image: '',\n            redirect:false,\n            atelier:[],\n            name:\"\"\n        };\n\n        this.handleChange = this.handleChange.bind(this);\n         \n    }\n   \n      \n    handleChange(e){\n        this.setState({\n            [e.target.name]: e.target.value\n        })\n    }\n\n    componentDidMount(){\n      \n        this.setState({name:localStorage.getItem('jwtToken')})\n        console.log(localStorage.getItem('jwtToken'))\n        axios.get('http://localhost:8080/cuisinier/'+ localStorage.getItem('id')).then(res=>{\n            console.log(res.data)\n            this.setState({atelier:res.data})\n        })\n        if(localStorage.getItem(\"id\")){\n            this.setState({redirect:true})\n            window.location=\"/profil\"\n        }\n    }\n    render() {\n        return (\n            <div>\n                           {this.state.atelier.length>0 ?(this.state.atelier.map(prof=>{\n                var url=\"http://localhost:8080/public/\"+prof.image\n return (\n    <div className=\"container\">\n        <div className=\"row\"> \n         <div class=\"col-md-4\">\n            <div class=\"card-body\">\n             <img src={url} id=\"larg\"/>\n             <h5 class=\"card-title\">{prof.titre}</h5>\n             <p class=\"card-text\">{prof.description}</p>\n             <p class=\"card-text\">{prof.date}</p>\n             <p class=\"card-text\">{prof.horaire}</p>\n             <p class=\"card-text\">{prof.placedispo}</p>\n             <p class=\"card-text\">{prof.placereserve}</p>\n             <p> {prof.prix }</p><br></br>\n               <div>\n         {prof.visibilite==true ?(<button onClick={(e)=>{\n             e.preventDefault()\n            axios.get(\" http://localhost:8080/ateliermasquer/\"+prof._id).then(res=>{\n                 axios.get('http://localhost:8080/cuisinier/'+ localStorage.getItem('id')).then(res=>{\n            console.log(res.data)\n            this.setState({atelier:res.data})\n        })\n                console.log(res.data)})\n           \n             \n         }}>Desactiver</button>):(<button onClick={(e)=>{\n            e.preventDefault()\n            console.log(prof._id)\n           axios.get(\"http://localhost:8080/atelieraffichier/\"+prof._id).then(res=>{\n  axios.get('http://localhost:8080/cuisinier/'+ localStorage.getItem('id')).then(res=>{\n            console.log(res.data)\n            this.setState({atelier:res.data})\n        })\n                console.log(res.data)})\n            \n         }}>Activer</button>)}\n                </div>\n         <button  onClick={()=>{\n                //  axios.post(\"http://localhost:8080/particulier/\"+prof._id)\n                confirmAlert({\n                    customUI: ({ onClose }) => {\n                      return (\n                        <div className='custom-ui'>\n                         <h5 class=\"card-title\">Modification Atelier</h5>\n                        <input  name=\"titre\" onChange={ this.handleChange } placeholder=\"Entrer votre titre\" value={this.state.value}/><br/>\n                        <input name=\"description\" onChange={ this.handleChange }  placeholder=\"Entrer votre description\"v alue={this.state.value}/><br/>\n                        <input name=\"date\" onChange={ this.handleChange } placeholder=\"Entrer votre email\" value={this.state.value} type=\"date\"/><br/>\n                        <input name=\"horaire\" onChange={ this.handleChange } placeholder=\"Entrer votre horaire\"/><br/>\n                        <input  name=\"placedispo\" onChange={ this.handleChange } placeholder=\"Entrer place disponible\" type=\"Number\" value={this.state.value}/><br/>\n                        <input name=\"placereserve\" onChange={ this.handleChange }  placeholder=\"Entrer place reserve\"type=\"Number\" alue={this.state.value}/><br/>\n                        <input name=\"prix\" onChange={ this.handleChange } placeholder=\"Entrer prix\" type=\"Number\" value={this.state.value}/><br/>\n                        <input name=\"telephone\"  ref={(ref) => { this.uploadInput2 = ref; }} type=\"file\"/><br/>\n                          <button onClick={onClose}>Fermer</button>\n                          <button\n                            onClick={() => {\n                                const data2 = new FormData();\n        data2.append('image', this.uploadInput2.files[0]);\n        data2.append('titre', this.state.titre);\n        data2.append('description', this.state.description);\n        data2.append('date', this.state.date);\n        data2.append('horaire', this.state.horaire);\n        // data.append('duree',  this.state.duree);\n        data2.append('placedispo', this.state.placedispo);\n        data2.append('placereserve', this.state.placereserve);\n        data2.append('prix', this.state.prix);\n        data2.append('duree',  this.state.duree);\n                                                                                                                                                              \n        fetch('http://localhost:8080/atelier/'+prof._id, {\n            method: 'POST',\n            body: data2,\n        }).then((response) => {\n            response.json().then((body) => {\n             \n                console.log(body.file1)\n                //  this.setRedirect()\n                axios.get('http://localhost:8080/cuisinier/'+ localStorage.getItem('id')).then(res=>{\n            console.log(res.data)\n            this.setState({atelier:res.data})\n        })\n                \n            });\n            onClose();\n        });\n       \n                                  \n                                \n                             \n                            }}\n                          className=\"btn btn-success\">\n                          Modifier\n                          </button>\n                        </div>\n                      );\n                    }\n                  });\n                 }}>Modifier</button>\n         \n            </div>\n         </div>\n         \n        </div>\n    </div>\n\n        )\n            }\n        \n              )):\"\"} \n            </div>\n        )\n    }\n}\n"]},"metadata":{},"sourceType":"module"}