{"ast":null,"code":"var _jsxFileName = \"/home/dev/Bureau/montest/front/src/components/Profil.js\";\nimport React, { Component } from 'react';\nimport axios from 'axios';\nimport { Redirect } from 'react-router-dom';\nimport { Link, withRouter } from 'react-router-dom';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { logoutUser } from '../actions/authentificate';\nimport { confirmAlert } from 'react-confirm-alert'; // Import\n\nimport 'react-confirm-alert/src/react-confirm-alert.css'; // Import css\n\nimport Ajoutatelier from './Ajoutatelier';\nimport MonAtelier from './MonAtelier';\nimport Slidebar from \"./Slidebar\";\n\nclass Profil extends Component {\n  constructor(props) {\n    super(props);\n\n    this.renderRedirect = () => {\n      if (localStorage.getItem(\"login\") == false) {\n        return React.createElement(Redirect, {\n          to: \"/login\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 41\n          },\n          __self: this\n        });\n      }\n    };\n\n    this.state = {\n      nom: \"\",\n      titre: \"\",\n      description: \"\",\n      horaire: \"\",\n      duree: \"\",\n      date: \"\",\n      placedispo: \"\",\n      placereserve: \"\",\n      prix: \"\",\n      image: '',\n      redirect: false,\n      atelier: [],\n      name: \"\",\n      visibilite: false\n    };\n    this.handleUploadImage = this.handleUploadImage.bind(this);\n    this.handleChange = this.handleChange.bind(this);\n  }\n\n  handleChange(e) {\n    this.setState({\n      [e.target.name]: e.target.value\n    });\n  }\n\n  handleUploadImage(ev) {\n    ev.preventDefault();\n    const data = new FormData();\n    data.append('image', this.uploadInput.files[0]);\n    data.append('titre', this.state.titre);\n    data.append('description', this.state.description);\n    data.append('date', this.state.date);\n    data.append('horaire', this.state.horaire); // data.append('duree',  this.state.duree);\n\n    data.append('placedispo', this.state.placedispo);\n    data.append('placereserve', this.state.placereserve);\n    data.append('prix', this.state.prix);\n    data.append('duree', this.state.duree);\n    fetch('http://localhost:8080/cuisinier/' + localStorage.getItem('id'), {\n      method: 'POST',\n      body: data\n    }).then(response => {\n      response.json().then(body => {\n        console.log(body.file1); //  this.setRedirect()\n\n        axios.get('http://localhost:8080/cuisinier/' + localStorage.getItem('id')).then(res => {\n          console.log(res.data);\n          this.setState({\n            atelier: res.data\n          });\n        });\n      });\n    });\n  }\n\n  componentDidMount() {\n    this.setState({\n      name: localStorage.getItem('jwtToken')\n    });\n    console.log(localStorage.getItem('jwtToken'));\n    axios.get('http://localhost:8080/cuisinier/' + localStorage.getItem('id')).then(res => {\n      console.log(res.data);\n      this.setState({\n        atelier: res.data\n      });\n    });\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      id: \"entete\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99\n      },\n      __self: this\n    }, React.createElement(\"center\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100\n      },\n      __self: this\n    }, React.createElement(\"h3\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101\n      },\n      __self: this\n    }, \" Bienvenue \", this.state.name), \" \", React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101\n      },\n      __self: this\n    }))), React.createElement(\"div\", {\n      id: \"deconnecte\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      onClick: () => {\n        this.props.logoutUser(this.props.history);\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105\n      },\n      __self: this\n    }, \"deconnecter\"))), React.createElement(Slidebar, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110\n      },\n      __self: this\n    }));\n  }\n\n}\n\nProfil.propTypes = {\n  logoutUser: PropTypes.func.isRequired,\n  auth: PropTypes.object.isRequired\n};\n\nconst mapStateToProps = state => ({\n  auth: state.auth\n});\n\nexport default connect(mapStateToProps, {\n  logoutUser\n})(withRouter(Profil));","map":{"version":3,"sources":["/home/dev/Bureau/montest/front/src/components/Profil.js"],"names":["React","Component","axios","Redirect","Link","withRouter","PropTypes","connect","logoutUser","confirmAlert","Ajoutatelier","MonAtelier","Slidebar","Profil","constructor","props","renderRedirect","localStorage","getItem","state","nom","titre","description","horaire","duree","date","placedispo","placereserve","prix","image","redirect","atelier","name","visibilite","handleUploadImage","bind","handleChange","e","setState","target","value","ev","preventDefault","data","FormData","append","uploadInput","files","fetch","method","body","then","response","json","console","log","file1","get","res","componentDidMount","render","history","propTypes","func","isRequired","auth","object","mapStateToProps"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport axios from 'axios';\nimport { Redirect } from 'react-router-dom'\nimport { Link , withRouter} from 'react-router-dom';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { logoutUser } from'../actions/authentificate';\nimport { confirmAlert } from 'react-confirm-alert'; // Import\nimport 'react-confirm-alert/src/react-confirm-alert.css'; // Import css\nimport Ajoutatelier from './Ajoutatelier';\nimport MonAtelier from './MonAtelier';\nimport Slidebar from \"./Slidebar\"\n class Profil extends Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            nom:\"\",\n            titre:\"\",\n            description:\"\",\n            horaire:\"\",\n            duree:\"\",\n            date:\"\",\n            placedispo:\"\",\n            placereserve:\"\",\n            prix:\"\",\n            image: '',\n            redirect:false,\n            atelier:[],\n            name:\"\",\n            visibilite:false\n        };\n\n        this.handleUploadImage = this.handleUploadImage.bind(this);\n        this.handleChange = this.handleChange.bind(this);\n         \n    }\n    \n      renderRedirect = () => {\n        if (localStorage.getItem(\"login\")==false) {\n          return <Redirect to='/login' />\n        }\n      }\n    \n    handleChange(e){\n        this.setState({\n            [e.target.name]: e.target.value\n        })\n    }\n\n    handleUploadImage(ev) {\n        ev.preventDefault();\n\n        const data = new FormData();\n        data.append('image', this.uploadInput.files[0]);\n        data.append('titre', this.state.titre);\n        data.append('description', this.state.description);\n        data.append('date', this.state.date);\n        data.append('horaire', this.state.horaire);\n        // data.append('duree',  this.state.duree);\n        data.append('placedispo', this.state.placedispo);\n        data.append('placereserve', this.state.placereserve);\n        data.append('prix', this.state.prix);\n        data.append('duree',  this.state.duree);\n                                                                                                                                                              \n        fetch('http://localhost:8080/cuisinier/'+ localStorage.getItem('id'), {\n            method: 'POST',\n            body: data,\n        }).then((response) => {\n            response.json().then((body) => {\n             \n                console.log(body.file1)\n                //  this.setRedirect()\n                axios.get('http://localhost:8080/cuisinier/'+ localStorage.getItem('id')).then(res=>{\n            console.log(res.data)\n            this.setState({atelier:res.data})\n        })\n            });\n        });\n       \n    }\n\n    componentDidMount(){\n      \n        this.setState({name:localStorage.getItem('jwtToken')})\n        console.log(localStorage.getItem('jwtToken'))\n        axios.get('http://localhost:8080/cuisinier/'+ localStorage.getItem('id')).then(res=>{\n            console.log(res.data)\n            this.setState({atelier:res.data})\n        })\n\n    }\n    render() {\n       \n        return (\n           \n            <div>\n                <div id =\"entete\">\n                    <div>\n                        <center>\n                            <h3> Bienvenue {this.state.name}</h3> <br></br>\n                        </center>\n                    </div>\n                    <div id=\"deconnecte\">\n                        <button onClick={()=>{\n                              this.props.logoutUser(this.props.history);\n                        }}>deconnecter</button>\n                    </div>\n                </div>\n               <Slidebar/>\n            \n    \n           \n           \n            </div>\n         \n        )\n    }\n}\nProfil.propTypes = {\n    logoutUser: PropTypes.func.isRequired,\n    auth: PropTypes.object.isRequired\n}\n\nconst mapStateToProps = (state) => ({\n    auth: state.auth\n})\n\nexport default connect(mapStateToProps, { logoutUser })(withRouter(Profil));"]},"metadata":{},"sourceType":"module"}